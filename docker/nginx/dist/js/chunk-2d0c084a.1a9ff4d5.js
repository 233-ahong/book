(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c084a"],{"41b9":function(t,e,l){"use strict";l.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-form",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:t.queryParams,size:"small",inline:!0,"label-width":"68px"}},[e("el-form-item",{attrs:{label:"状态",prop:"status"}},[e("el-select",{attrs:{placeholder:"请选择状态",clearable:""},model:{value:t.queryParams.status,callback:function(e){t.$set(t.queryParams,"status",e)},expression:"queryParams.status"}},t._l(t.dictStatus,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.handleQuery}},[t._v("搜索")]),e("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.resetQuery}},[t._v("重置")])],1)],1),e("el-row",{staticClass:"mb8",attrs:{gutter:10}},[e("el-col",{attrs:{span:1.5}},[e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:t.handleAdd}},[t._v("新增")])],1),e("el-col",{attrs:{span:1.5}},[e("el-button",{attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:t.single},on:{click:t.handleUpdate}},[t._v("修改")])],1),e("el-col",{attrs:{span:1.5}},[e("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:t.multiple},on:{click:t.handleDelete}},[t._v("删除")])],1),e("right-toolbar",{attrs:{showSearch:t.showSearch},on:{"update:showSearch":function(e){t.showSearch=e},"update:show-search":function(e){t.showSearch=e},queryTable:t.getList}})],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.sortList},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e("el-table-column",{attrs:{label:"分类ID",align:"center",prop:"sortId"}}),e("el-table-column",{attrs:{label:"分类标签",align:"center",prop:"sortLabel"}}),e("el-table-column",{attrs:{label:"分类键值",align:"center",prop:"sortValue"}}),e("el-table-column",{attrs:{label:"样式属性",align:"center",prop:"cssClass"}}),e("el-table-column",{attrs:{label:"表格回显样式",align:"center",prop:"listClass"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("dict-tag",{attrs:{options:t.listClassOptions,value:l.row.listClass}})]}}])}),e("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("dict-tag",{attrs:{options:t.dictStatus,value:l.row.status}})]}}])}),e("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.handleUpdate(l.row)}}},[t._v("修改")]),e("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(e){return t.handleDelete(l.row)}}},[t._v("删除")])]}}])})],1),e("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}}),e("el-dialog",{attrs:{title:t.title,visible:t.open,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.open=e}}},[e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"分类标签",prop:"sortLabel"}},[e("el-input",{attrs:{placeholder:"请输入分类标签"},model:{value:t.form.sortLabel,callback:function(e){t.$set(t.form,"sortLabel",e)},expression:"form.sortLabel"}})],1),e("el-form-item",{attrs:{label:"分类键值",prop:"sortValue"}},[e("el-input",{attrs:{placeholder:"请输入分类键值"},model:{value:t.form.sortValue,callback:function(e){t.$set(t.form,"sortValue",e)},expression:"form.sortValue"}})],1),e("el-form-item",{attrs:{label:"样式属性",prop:"cssClass"}},[e("el-input",{attrs:{placeholder:"请输入样式属性"},model:{value:t.form.cssClass,callback:function(e){t.$set(t.form,"cssClass",e)},expression:"form.cssClass"}})],1),e("el-form-item",{attrs:{label:"表格回显样式",prop:"listClass"}},[e("el-select",{attrs:{placeholder:"请选择表格回显样式"},model:{value:t.form.listClass,callback:function(e){t.$set(t.form,"listClass",e)},expression:"form.listClass"}},t._l(t.listClassOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label+"("+t.value+")",value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"状态"}},[e("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.dictStatus,(function(l){return e("el-radio",{key:l.value,attrs:{label:l.value}},[t._v(t._s(l.label))])})),1)],1),e("el-form-item",{attrs:{label:"备注",prop:"remark"}},[e("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")]),e("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)},a=[],r=l("b775");function i(t){return Object(r["a"])({url:"/system/sort/list",method:"get",params:t})}function o(t){return Object(r["a"])({url:"/system/sort/"+t,method:"get"})}function n(t){return Object(r["a"])({url:"/system/sort",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/system/sort",method:"put",data:t})}function c(t){return Object(r["a"])({url:"/system/sort/"+t,method:"delete"})}var m={name:"Sort",data(){return{dictStatus:[{label:"正常",value:"0",raw:{dictLabel:"正常",dictValue:"0",listClass:"primary",isDefault:"Y",status:"0",default:!0}},{label:"停用",value:"1",raw:{dictLabel:"停用",dictValue:"1",listClass:"danger",isDefault:"N",status:"0",default:!1}}],listClassOptions:[{value:"default",label:"默认",raw:{listClass:"default",isDefault:"Y",default:!0}},{value:"primary",label:"主要",raw:{listClass:"primary"}},{value:"success",label:"成功",raw:{listClass:"success",isDefault:"N",default:!1}},{value:"info",label:"信息",raw:{listClass:"info",isDefault:"N",default:!1}},{value:"warning",label:"警告",raw:{listClass:"warning",isDefault:"N",default:!1}},{value:"danger",label:"危险",raw:{listClass:"danger",isDefault:"N",default:!1}}],dictHide:{},loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,sortList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,sortLabel:null,sortValue:null,cssClass:null,listClass:null,isDefault:null,status:null},form:{},rules:{sortLabel:[{required:!0,message:"分类标签不能为空",trigger:"blur"}],sortValue:[{required:!0,message:"分类键值不能为空",trigger:"blur"}]}}},created(){this.getList()},methods:{getList(){this.loading=!0,i(this.queryParams).then(t=>{this.sortList=t.rows,this.total=t.total,this.loading=!1})},cancel(){this.open=!1,this.reset()},reset(){this.form={sortId:null,sortLabel:null,sortValue:null,cssClass:null,listClass:null,isDefault:"0",status:"0",remark:null},this.resetForm("form")},handleQuery(){this.queryParams.pageNum=1,this.getList()},resetQuery(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange(t){this.ids=t.map(t=>t.sortId),this.single=1!==t.length,this.multiple=!t.length},handleAdd(){this.reset(),this.open=!0,this.title="添加书籍分类"},handleUpdate(t){this.reset();const e=t.sortId||this.ids;o(e).then(t=>{this.form=t.data,this.open=!0,this.title="修改书籍分类"})},submitForm(){this.$refs.form.validate(t=>{t&&(null!=this.form.sortId?u(this.form).then(t=>{this.$modal.msgSuccess("修改成功"),this.open=!1,this.getList()}):n(this.form).then(t=>{this.$modal.msgSuccess("新增成功"),this.open=!1,this.getList()}))})},handleDelete(t){const e=t.sortId||this.ids;this.$modal.confirm('是否确认删除书籍分类编号为"'+e+'"的数据项？').then((function(){return c(e)})).then(()=>{this.getList(),this.$modal.msgSuccess("删除成功")}).catch(()=>{})}}},d=m,p=l("2877"),h=Object(p["a"])(d,s,a,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0c084a.1a9ff4d5.js.map