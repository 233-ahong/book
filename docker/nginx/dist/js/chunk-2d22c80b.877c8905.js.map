{"version":3,"sources":["webpack:///./src/views/system/cart/index.vue","webpack:///./src/api/system/cart.js","webpack:///src/views/system/cart/index.vue","webpack:///./src/views/system/cart/index.vue?8338","webpack:///./src/views/system/cart/index.vue?ac0a"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","handleAdd","_v","single","handleUpdate","multiple","handleDelete","showSearch","$event","getList","directives","name","rawName","value","loading","expression","cartList","handleSelectionChange","scopedSlots","_u","key","fn","scope","_s","parseTime","row","addTime","modifiedTime","total","queryParams","pageNum","pageSize","$set","title","open","ref","form","rules","model","userId","callback","$$v","bookId","productAmount","price","slot","submitForm","cancel","staticRenderFns","listCart","query","request","url","method","params","getCart","cartId","addCart","data","updateCart","delCart","ids","required","message","trigger","created","methods","reset","handleQuery","resetQuery","then","catch","component"],"mappings":"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","file":"js/chunk-2d22c80b.877c8905.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{staticClass:\"mb8\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":1.5}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-plus\",\"size\":\"mini\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\")])],1),_c('el-col',{attrs:{\"span\":1.5}},[_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\",\"icon\":\"el-icon-edit\",\"size\":\"mini\",\"disabled\":_vm.single},on:{\"click\":_vm.handleUpdate}},[_vm._v(\"修改\")])],1),_c('el-col',{attrs:{\"span\":1.5}},[_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"disabled\":_vm.multiple},on:{\"click\":_vm.handleDelete}},[_vm._v(\"删除\")])],1),_c('right-toolbar',{attrs:{\"showSearch\":_vm.showSearch},on:{\"update:showSearch\":function($event){_vm.showSearch=$event},\"update:show-search\":function($event){_vm.showSearch=$event},\"queryTable\":_vm.getList}})],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.cartList},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"购物车ID\",\"align\":\"center\",\"prop\":\"cartId\"}}),_c('el-table-column',{attrs:{\"label\":\"用户ID\",\"align\":\"center\",\"prop\":\"userId\"}}),_c('el-table-column',{attrs:{\"label\":\"书籍ID\",\"align\":\"center\",\"prop\":\"bookId\"}}),_c('el-table-column',{attrs:{\"label\":\"加入购物车数量\",\"align\":\"center\",\"prop\":\"productAmount\"}}),_c('el-table-column',{attrs:{\"label\":\"书籍价格\",\"align\":\"center\",\"prop\":\"price\"}}),_c('el-table-column',{attrs:{\"label\":\"加入购物车时间\",\"align\":\"center\",\"prop\":\"addTime\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.parseTime(scope.row.addTime, '{y}-{m}-{d}')))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"最后修改时间\",\"align\":\"center\",\"prop\":\"modifiedTime\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.parseTime(scope.row.modifiedTime, '{y}-{m}-{d}')))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleUpdate(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\",\"icon\":\"el-icon-delete\"}},[_vm._v(\"删除\")])]}}])})],1),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total>0),expression:\"total>0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.queryParams.pageNum,\"limit\":_vm.queryParams.pageSize},on:{\"update:page\":function($event){return _vm.$set(_vm.queryParams, \"pageNum\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.queryParams, \"pageSize\", $event)},\"pagination\":_vm.getList}}),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.open,\"width\":\"500px\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.open=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户ID\",\"prop\":\"userId\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户ID\"},model:{value:(_vm.form.userId),callback:function ($$v) {_vm.$set(_vm.form, \"userId\", $$v)},expression:\"form.userId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"书籍ID\",\"prop\":\"bookId\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入书籍ID\"},model:{value:(_vm.form.bookId),callback:function ($$v) {_vm.$set(_vm.form, \"bookId\", $$v)},expression:\"form.bookId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"加入购物车数量\",\"prop\":\"productAmount\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入加入购物车数量\"},model:{value:(_vm.form.productAmount),callback:function ($$v) {_vm.$set(_vm.form, \"productAmount\", $$v)},expression:\"form.productAmount\"}})],1),_c('el-form-item',{attrs:{\"label\":\"书籍价格\",\"prop\":\"price\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入书籍价格\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n\r\n// 查询购物车列表\r\nexport function listCart(query) {\r\n  return request({\r\n    url: '/system/cart/list',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\n// 查询购物车详细\r\nexport function getCart(cartId) {\r\n  return request({\r\n    url: '/system/cart/' + cartId,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 新增购物车\r\nexport function addCart(data) {\r\n  return request({\r\n    url: '/system/cart',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 修改购物车\r\nexport function updateCart(data) {\r\n  return request({\r\n    url: '/system/cart',\r\n    method: 'put',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 删除购物车\r\nexport function delCart(cartId) {\r\n  return request({\r\n    url: '/system/cart/' + cartId,\r\n    method: 'delete'\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"app-container\">\r\n<!--\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"用户ID\" prop=\"userId\">\r\n        <el-input\r\n          v-model=\"queryParams.userId\"\r\n          placeholder=\"请输入用户ID\"\r\n          clearable\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"书籍ID\" prop=\"bookId\">\r\n        <el-input\r\n          v-model=\"queryParams.bookId\"\r\n          placeholder=\"请输入书籍ID\"\r\n          clearable\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"加入购物车数量\" prop=\"productAmount\">\r\n        <el-input\r\n          v-model=\"queryParams.productAmount\"\r\n          placeholder=\"请输入加入购物车数量\"\r\n          clearable\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"书籍价格\" prop=\"price\">\r\n        <el-input\r\n          v-model=\"queryParams.price\"\r\n          placeholder=\"请输入书籍价格\"\r\n          clearable\r\n        />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n-->\r\n\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"primary\"\r\n          plain\r\n          icon=\"el-icon-plus\"\r\n          size=\"mini\"\r\n          @click=\"handleAdd\"\r\n        >新增</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"success\"\r\n          plain\r\n          icon=\"el-icon-edit\"\r\n          size=\"mini\"\r\n          :disabled=\"single\"\r\n          @click=\"handleUpdate\"\r\n        >修改</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"danger\"\r\n          plain\r\n          icon=\"el-icon-delete\"\r\n          size=\"mini\"\r\n          :disabled=\"multiple\"\r\n          @click=\"handleDelete\"\r\n        >删除</el-button>\r\n      </el-col>\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <el-table v-loading=\"loading\" :data=\"cartList\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n      <el-table-column label=\"购物车ID\" align=\"center\" prop=\"cartId\" />\r\n      <el-table-column label=\"用户ID\" align=\"center\" prop=\"userId\" />\r\n      <el-table-column label=\"书籍ID\" align=\"center\" prop=\"bookId\" />\r\n      <el-table-column label=\"加入购物车数量\" align=\"center\" prop=\"productAmount\" />\r\n      <el-table-column label=\"书籍价格\" align=\"center\" prop=\"price\" />\r\n      <el-table-column label=\"加入购物车时间\" align=\"center\" prop=\"addTime\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ parseTime(scope.row.addTime, '{y}-{m}-{d}') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"最后修改时间\" align=\"center\" prop=\"modifiedTime\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ parseTime(scope.row.modifiedTime, '{y}-{m}-{d}') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-edit\"\r\n            @click=\"handleUpdate(scope.row)\"\r\n          >修改</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-delete\"\r\n          >删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination\r\n      v-show=\"total>0\"\r\n      :total=\"total\"\r\n      :page.sync=\"queryParams.pageNum\"\r\n      :limit.sync=\"queryParams.pageSize\"\r\n      @pagination=\"getList\"\r\n    />\r\n\r\n    <!-- 添加或修改购物车对话框 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"用户ID\" prop=\"userId\">\r\n          <el-input v-model=\"form.userId\" placeholder=\"请输入用户ID\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"书籍ID\" prop=\"bookId\">\r\n          <el-input v-model=\"form.bookId\" placeholder=\"请输入书籍ID\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"加入购物车数量\" prop=\"productAmount\">\r\n          <el-input v-model=\"form.productAmount\" placeholder=\"请输入加入购物车数量\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"书籍价格\" prop=\"price\">\r\n          <el-input v-model=\"form.price\" placeholder=\"请输入书籍价格\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listCart, getCart, delCart, addCart, updateCart } from '@/api/system/cart'\r\n\r\nexport default {\r\n  name: 'Cart',\r\n  data () {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 购物车表格数据\r\n      cartList: [],\r\n      // 弹出层标题\r\n      title: '',\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        userId: null,\r\n        bookId: null,\r\n        productAmount: null,\r\n        price: null\r\n      },\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n        userId: [\r\n          { required: true, message: '用户ID不能为空', trigger: 'blur' }\r\n        ],\r\n        bookId: [\r\n          { required: true, message: '书籍ID不能为空', trigger: 'blur' }\r\n        ],\r\n        productAmount: [\r\n          { required: true, message: '加入购物车数量不能为空', trigger: 'blur' }\r\n        ],\r\n        price: [\r\n          { required: true, message: '书籍价格不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    /** 查询购物车列表 */\r\n    getList () {\r\n      this.loading = true\r\n      listCart(this.queryParams).then(response => {\r\n        this.cartList = response.rows\r\n        this.total = response.total\r\n        this.loading = false\r\n      })\r\n    },\r\n    // 取消按钮\r\n    cancel () {\r\n      this.open = false\r\n      this.reset()\r\n    },\r\n    // 表单重置\r\n    reset () {\r\n      this.form = {\r\n        cartId: null,\r\n        userId: null,\r\n        bookId: null,\r\n        productAmount: null,\r\n        price: null,\r\n        addTime: null,\r\n        modifiedTime: null\r\n      }\r\n      this.resetForm('form')\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery () {\r\n      this.queryParams.pageNum = 1\r\n      this.getList()\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery () {\r\n      this.resetForm('queryForm')\r\n      this.handleQuery()\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange (selection) {\r\n      this.ids = selection.map(item => item.cartId)\r\n      this.single = selection.length !== 1\r\n      this.multiple = !selection.length\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd () {\r\n      this.reset()\r\n      this.open = true\r\n      this.title = '添加购物车'\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate (row) {\r\n      this.reset()\r\n      const cartId = row.cartId || this.ids\r\n      getCart(cartId).then(response => {\r\n        this.form = response.data\r\n        this.open = true\r\n        this.title = '修改购物车'\r\n      })\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm () {\r\n      this.$refs.form.validate(valid => {\r\n        if (valid) {\r\n          if (this.form.cartId != null) {\r\n            updateCart(this.form).then(response => {\r\n              this.$modal.msgSuccess('修改成功')\r\n              this.open = false\r\n              this.getList()\r\n            })\r\n          } else {\r\n            addCart(this.form).then(response => {\r\n              this.$modal.msgSuccess('新增成功')\r\n              this.open = false\r\n              this.getList()\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete (row) {\r\n      const cartIds = row.cartId || this.ids\r\n      this.$modal.confirm('是否确认删除购物车编号为\"' + cartIds + '\"的数据项？').then(function () {\r\n        return delCart(cartIds)\r\n      }).then(() => {\r\n        this.getList()\r\n        this.$modal.msgSuccess('删除成功')\r\n      }).catch(() => {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=12ef726f&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}