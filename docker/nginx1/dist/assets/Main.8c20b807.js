import{_ as C,g as I,a as N,G as q,r as o,z as x,H as B,b as c,o as _,d as p,e as n,w as k,k as t,F as L,A as S,I as z,J as A,m as r,t as d}from"./index.80a9f799.js";import{g as M}from"./book.a52ed070.js";const P={class:"bookList"},R=["onClick"],D={class:"book-cover"},F=["src"],U={class:"book-detail"},V={__name:"Main",setup(E){I();const m=N(),g=q();o(!1),o(1);const f=o([]);o(!1),o(!0),o([]),o(!0),o(!0);const u=o(0);o(""),o("1");const b=x({bookInfo:null,queryParams:{pageNum:1,pageSize:30,bookCategory:null}});function v(){g.query.id!=="0"&&(a.value.bookCategory=g.query.id),M(a.value).then(s=>{f.value=s.rows,u.value=s.total})}function h(s){m.push({path:"/bookInfo",query:{id:s.bookId}})}const{queryParams:a,bookInfo:G}=B(b);return v(),(s,l)=>{const i=c("el-col"),y=c("pagination"),w=c("el-row");return _(),p("div",null,[n(w,{gutter:24},{default:k(()=>[n(i,{span:2}),n(i,{span:20},{default:k(()=>[t("ul",null,[(_(!0),p(L,null,S(f.value,e=>(_(),p("li",P,[t("a",{class:"book",onClick:H=>h(e)},[t("div",D,[t("img",{src:e.coverAddress,alt:""},null,8,F)]),t("div",U,[t("h3",null,d(e.bookName),1),t("h4",null,"\u4F5C\u8005 "+d(e.bookAuthor),1),t("h5",null,d(e.descript),1)])],8,R)]))),256))]),z(n(y,{total:u.value,page:r(a).pageNum,"onUpdate:page":l[0]||(l[0]=e=>r(a).pageNum=e),limit:r(a).pageSize,"onUpdate:limit":l[1]||(l[1]=e=>r(a).pageSize=e),onPagination:v},null,8,["total","page","limit"]),[[A,u.value>0]])]),_:1}),n(i,{span:2})]),_:1})])}}},j=C(V,[["__scopeId","data-v-9d570dfe"]]);export{j as default};
